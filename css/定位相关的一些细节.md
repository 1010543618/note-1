对于定位已经很熟悉了, 故不想再具体写相关内容了, 这篇只记录一些平时没太注意的细节供自己查阅.



#### display, position 和 float 之间的关系

![img21](./images/img21.png)

图中的下表请参考 [复习float](./复习float.md)

可以看出, absolute 和 fixed 的优先级最高, 在这两种定位下, float 将会失效.



#### 只有 absolute 而没有 top 等属性的情况

对于一个元素, 只设置 `position: absolute;` 而不设置 `top` 等, 此时元素的位置和之前在正常流中一样, 只不过后面的元素会因为该元素不在正常流中而占据该元素的位置导致重叠.



#### transform 对 fixed 的影响

都知道 fixed 定位是相对于初始包含块的, 但是有个特例是当某个祖先元素有任意非 none 的 transform 属性时, 该祖先元素的 padding-box 将作为 fixed 定位的包含块. 事实上, 带有非 none 的 transform, perspective, filter 属性的元素的 padding-box 都将作为 fixed 定位的子元素的包含块. 或者说, **fixed 定位的元素的包含块是初始包含块或最近的带有非 none 的 transform, perspective, filter 属性的祖先元素的 padding-box.**

[W3C](https://www.w3.org/TR/css-transforms-1/#transform-rendering) 文档中的描述:

> For elements whose layout is governed by the CSS box model, any value other than none for the transform also causes the element to become a containing block, and the object acts as a containing block for fixed positioned descendants.

[MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/position) 的描述:

> When an ancestor has the `transform`, `perspective`, or `filter` property set to something other than `none`, that ancestor is used as the container instead of the viewport (see [CSS Transforms Spec](https://www.w3.org/TR/css-transforms-1/#transform-rendering))



#### 参考资料

* http://www.w3help.org/zh-cn/kb/009/
* https://www.w3.org/TR/css-transforms-1/#transform-rendering
* https://developer.mozilla.org/en-US/docs/Web/CSS/position